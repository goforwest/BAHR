# ๐ ููุงุตูุฉ ูุฌููุนุฉ ุงูุจูุงูุงุช (Dataset Specification)
## ุจูุญูุฑ: ุฃุจูุงุช ุดุนุฑ ููุนูููุฉ ููุชุญููู ุงูุนุฑูุถู (MVP)

---

## ๐ฏ ุงูุบุฑุถ
ุชุนุฑูู ููุญุฏ ููุฌููุนุฉ ุจูุงูุงุช ุงูุฃุจูุงุช ุงูููุนูููุฉ (ูุตุ ุจุญุฑุ ุชูุทูุน/ููุท ุฅู ุชููุฑุ ูุตุฏุฑุ ุนุตุฑ) ูุงุณุชุฎุฏุงููุง ูู:
- ุชูููู ุฏูุฉ ุงููุญูู ุงููุงุฆู ุนูู ุงูููุงุนุฏ (MVP)
- ูุนุงูุฑุฉ ุนุชุจุงุช ุงูุซูุฉ ูุชุฑุชูุจ ุงูุจุฏุงุฆู
- ุฅุนุฏุงุฏ ุฃุฑุถูุฉ ููุงูุชูุงู ูุงุญูุงู ุฅูู ููุงุฐุฌ ML (Phase 2)

---

## ๐งฑ ูุฎุทุท ุงูุณุฌู (Record Schema)
ุตูุบุฉ JSONL (ุณุทุฑ ููู ุณุฌู).

### ุงููุฎุทุท ุงููุงูู (Golden Set v0.20 - 17 ุญูู)
```json
{
  "verse_id": "golden_001",
  "text": "ูููุง ููุจููู ููู ุฐููุฑู ุญูุจูุจู ูููููุฒููู",
  "normalized_text": "ููุง ูุจู ูู ุฐูุฑู ุญุจูุจ ูููุฒู",
  "meter": "ุงูุทููู",
  "poet": "ุงูุฑุค ุงูููุณ",
  "source": "ุงููุนููุฉ",
  "era": "classical",
  "confidence": 0.98,
  "notes": "ุจูุช ุงูุชุชุงุญู ููุงุณู ูุงุถุญ ุงูุชูุนููุงุช",
  "taqti3": "ููุนูููููู ููููุงุนูููููู ููุนูููููู ููููุงุนูููููู",
  "expected_tafail": ["ูุนููู", "ููุงุนููู", "ูุนููู", "ููุงุนููู"],
  "syllable_pattern": "- u - - | - u u - | - u - - | - u u -",
  "syllable_count": 16,
  "edge_case_type": "perfect_match",
  "difficulty_level": "easy",
  "validation": {
    "verified_by": "manual_expert_review",
    "verified_date": "2025-11-09",
    "reference_sources": ["ูุชุงุจ ุงูุนุฑูุถ ููุฎููู", "ุงููุงูู ูู ุงูุนุฑูุถ ูุงูููุงูู"]
  },
  "metadata": {
    "created_at": "2025-11-09",
    "updated_at": "2025-11-09",
    "version": "0.20"
  }
}
```

### ูุตู ุงูุญููู

#### ุงูุญููู ุงูุฃุณุงุณูุฉ (Core Fields)
- **verse_id** (ูุทููุจ): ูุนุฑูู ูุฑูุฏ ููุจูุช (ูุซุงู: `golden_001`)
- **text** (ูุทููุจ): ุงููุต ุงูุฃุตูู ูุน ุงูุชุดููู ุงููุงูู
- **normalized_text** (ูุทููุจ): ุงููุต ุจุนุฏ ุงูุชุทุจูุน (ุฅุฒุงูุฉ ุงูุชุดูููุ ุชูุญูุฏ ุงูููุฒุงุช)
- **meter** (ูุทููุจ): ุงุณู ุงูุจุญุฑ (ูุงุญุฏ ูู 16 ุจุญุฑุงู)
- **poet** (ุงุฎุชูุงุฑู): ุงุณู ุงูุดุงุนุฑ ุฅู ูุงู ูุนุฑููุงู
- **source** (ุงุฎุชูุงุฑู): ุงููุตุฏุฑ ุงูุฃุฏุจู (ุฏููุงูุ ูุนููุฉุ ุฅูุฎ)
- **era** (ูุทููุจ): ุงูุนุตุฑ - `classical` | `modern` | `contemporary` | `unknown`

#### ุงูุญููู ุงูุนุฑูุถูุฉ (Prosodic Fields)
- **confidence** (ูุทููุจ): ูุณุชูู ุงูุซูุฉ ูู ุงูุนูููุฉ (0.0-1.0)
- **notes** (ูุทููุจ): ููุงุญุธุงุช ุนุฑูุถูุฉ ุฃู ูุบููุฉ
- **taqti3** (ูุทููุจ): ุงูุชูุทูุน ุงูุนุฑูุถู ุจุงูุชูุงุนูู ูุน ุงูุชุดููู
- **expected_tafail** (ูุทููุจ): ูุตูููุฉ ุงูุชูุงุนูู ุงููุชููุนุฉ
- **syllable_pattern** (ูุทููุจ): ุงูููุท ุงูููุทุนู (`-` = ุทูููุ `u` = ูุตูุฑุ `|` = ูุงุตู)
- **syllable_count** (ูุทููุจ): ุนุฏุฏ ุงูููุงุทุน ุงูุตูุชูุฉ

#### ุงูุญููู ุงูุชุตููููุฉ (Classification Fields)
- **edge_case_type** (ูุทููุจ): ููุน ุงูุญุงูุฉ
  - `perfect_match`: ูุทุงุจูุฉ ุชุงูุฉ ููููุท ุงูููุงุณู
  - `common_variations`: ุฒุญุงูุงุช ูุนูู ุดุงุฆุนุฉ
  - `rare_variations`: ุชุบููุฑุงุช ูุงุฏุฑุฉ
  - `diacritics_test`: ุงุฎุชุจุงุฑ ุงูุชุดููู
  - `ambiguous`: ุญุงูุงุช ููุชุจุณุฉ ุจูู ุจุญุฑูู
- **difficulty_level** (ูุทููุจ): ูุณุชูู ุงูุตุนูุจุฉ
  - `easy`: ุชูุนููุงุช ููุงุณูุฉ ูุงุถุญุฉ
  - `medium`: ุฒุญุงูุงุช ุดุงุฆุนุฉ
  - `hard`: ุญุงูุงุช ูุนูุฏุฉ ุฃู ูุงุฏุฑุฉ

#### ุงูุญููู ุงูุฅุฏุงุฑูุฉ (Administrative Fields)
- **validation** (ูุทููุจ): ูุนูููุงุช ุงูุชุญูู
  - `verified_by`: ุทุฑููุฉ ุงูุชุญูู
  - `verified_date`: ุชุงุฑูุฎ ุงูุชุญูู
  - `reference_sources`: ุงููุฑุงุฌุน ุงููุณุชุฎุฏูุฉ
- **metadata** (ูุทููุจ): ุจูุงูุงุช ูุตููุฉ
  - `created_at`: ุชุงุฑูุฎ ุงูุฅูุดุงุก
  - `updated_at`: ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ
  - `version`: ุฑูู ุงูุฅุตุฏุงุฑ

### ุงููุฎุทุท ุงููุจุณุท (ููุชุทุจููุงุช ุงูุฃุฎุฑู)
ููุงุณุชุฎุฏุงูุงุช ุงูุชู ูุง ุชุญุชุงุฌ ูู ุงูุชูุงุตูู ุงูุนุฑูุถูุฉ:

```json
{
  "verse_id": "train_001",
  "text": "ููุง ูุจู ูู ุฐูุฑู ุญุจูุจ ูููุฒู",
  "normalized_text": "ููุง ูุจู ูู ุฐูุฑู ุญุจูุจ ูููุฒู",
  "meter": "ุงูุทููู",
  "era": "classical",
  "confidence": 0.95,
  "notes": "ุจูุช ุดููุฑ ูู ุงููุนููุฉ"
}
```

ุงูุญููู ุงูุฏููุง ุงููุทููุจุฉ: `verse_id`, `text`, `normalized_text`, `meter`, `era`, `confidence`, `notes` 

---

## ๐ ุชูุธูู ุงููููุงุช
```
./dataset/
  evaluation/
    golden_set_v0_20.jsonl              # ุงููุฌููุนุฉ ุงูุฃุตููุฉ (20 ุจูุชุ 6 ุญููู)
    golden_set_v0_20_complete.jsonl     # ุงููุฌููุนุฉ ุงููุงููุฉ (20 ุจูุชุ 17 ุญูู) โ
    golden_set_metadata.json            # ุฅุญุตุงุฆูุงุช ุงููุฌููุนุฉ
    verification_checklist.json         # ูุงุฆูุฉ ุงูุชุญูู
    validation_report.json              # ุชูุฑูุฑ ุงูุฌูุฏุฉ
    verification_log.md                 # ุณุฌู ุงูุชุฏููู ุงูุจุดุฑู
  scripts/
    enrich_golden_set.py                # ุฃุชูุชุฉ A4, A5, A6
    add_prosodic_annotations.py         # ุงูุชุนูููุงุช ุงูุนุฑูุถูุฉ A1-A3
    add_phase_b_metadata.py             # ุงูุชุตููู ูุงูุจูุงูุงุช ุงููุตููุฉ
    phase_c_quality_assurance.py        # ุงูุชุญูู ูุงูุฌูุฏุฉ
    validate_golden_set.py              # ุงููุญุต ุงูุขูู
    prosodic_annotations_template.json  # ูุงูุจ ุงูุชุนูููุงุช ุงููุฏููุฉ
  raw/
    (ูุฎุทุท ูููุณุชูุจู)
```

---

## ๐ ุงููููุฏ ูุงูุฃููุงุน
- **verse_id**: ููุท `golden_NNN` ูููุฌููุนุฉ ุงูุฐูุจูุฉุ `train_NNN` ููุชุฏุฑูุจุ `test_NNN` ููุงุฎุชุจุงุฑ
- **meter**: ูุงุญุฏ ูู ุงูุจุญูุฑ ุงูุณุชุฉ ุนุดุฑ ุงูููุงุณูููุฉ
  - ุงููุบุทุงุฉ ุญุงููุงู (8): ุงูุทูููุ ุงูุจุณูุทุ ุงููุงููุ ุงูุฑุฌุฒุ ุงูุฑููุ ุงููุชูุงุฑุจุ ุงูุฎูููุ ุงููุฒุฌ
  - ูุฑูุจุงู: ุงูุณุฑูุนุ ุงููุฏูุฏุ ุงููุงูุฑุ ุงูููุณุฑุญุ ุงููุฌุชุซุ ุงููุถุงุฑุนุ ุงูููุชุถุจุ ุงููุชุฏุงุฑู
- **era**: `classical` | `modern` | `contemporary` | `unknown`
- **confidence**: ุฑูู ุนุดุฑู 0.0-1.0 (โฅ0.95 ุนุงููุ 0.85-0.94 ูุชูุณุทุ <0.85 ููุฎูุถ)
- **edge_case_type**: `perfect_match` | `common_variations` | `rare_variations` | `diacritics_test` | `ambiguous`
- **difficulty_level**: `easy` | `medium` | `hard`
- **text**: โฅ 10 ุญุฑูู ุจุนุฏ ุงูุชูุธููุ ุญุฑูู ุนุฑุจูุฉ ุจูุณุจุฉ โฅ 70%
- **syllable_pattern**: ุฑููุฒ `-` (ุทููู) ู `u` (ูุตูุฑ) ูุน `|` ูุงุตู ุจูู ุงูุชูุงุนูู
- **expected_tafail**: ูุตูููุฉ ูู ุฃุณูุงุก ุงูุชูุงุนูู ุงูุนุฑุจูุฉ

---

## ๐งช ุงูุชุญูู ูุงูุฌูุฏุฉ

### ุงูุชุญูู ุงูุขูู (Automated Validation)
- ูุณุจุฉ ุงูุญุฑูู ุงูุนุฑุจูุฉ โฅ 70%
- ุงูุชูุงู ุงูุญููู ุงููุทููุจุฉ (17 ุญูู ูููุฌููุนุฉ ุงูุฐูุจูุฉ)
- ุงูุทูู ุงููุนููู (โค 200 ูููุฉ ููุจูุช)
- ุตุญุฉ ููู ุงูุชุนุฏุงุฏ (era, edge_case_type, difficulty_level)
- ุชุทุงุจู ุนุฏุฏ ุงูููุงุทุน ูุน ุงูููุท ุงูููุทุนู
- ุชูุฒูุน ุงูุจุญูุฑ (ุชุบุทูุฉ ูุชูุงุฒูุฉ)

### ุงูุชุญูู ุงูุจุดุฑู (Manual Verification)
- **Golden Set v0.20**: ุชุญูู ุซูุงุซู
  1. ูุฑุงุฌุนุฉ ุงูุชูุทูุน ุงูุนุฑูุถู ูุน ูุฑุงุฌุน ููุงุณูููุฉ (ูุชุงุจ ุงูุนุฑูุถุ ุงููุงูู)
  2. ุงูุชุญูู ูู ุงูุชูุงุนูู ูุงูุฒุญุงูุงุช
  3. ูุทุงุจูุฉ ุงูุฃููุงุท ุงูููุทุนูุฉ
- **ูุนุฏู ุงูุชุญูู**: 100% (20/20 ุจูุช)
- **ูุชูุณุท ุงูุซูุฉ**: 0.924
- **IAA (ุชูุงูู ุงูููุนูููููู)**: ูุคุฌู ูู Phase 2 (ุนูู ูุฑุฏู ููุจูู ูู MVP)

### ูุนุงููุฑ ุงูุฌูุฏุฉ (Quality Standards)
- โ ุงูุชูุงู ุงูุญููู: 100%
- โ ูุนุฏู ุงูุชุญูู: 100%
- โ ุซูุฉ ุนุงููุฉ: 65% (13/20 ุจูุช ุจุซูุฉ โฅ0.95)
- โ ุฌุงูุฒ ููุฅูุชุงุฌ: ูุนู

ุงูุธุฑ: `dataset/evaluation/validation_report.json` ููุชูุฑูุฑ ุงููุงูู

---

## ๐ ุฃุญุฌุงู ูุณุชูุฏูุฉ (ูููุธููุฉ ุนูู ูุฑุงุญู)

### ุงููุฑุญูุฉ ุงูุญุงููุฉ (Week 1-2) โ
- **Golden Set v0.20**: 20 ุจูุช (17 ุญููุ 100% ููุชูู)
  - 8 ุจุญูุฑ ูุบุทุงุฉ
  - 13 ุดุงุนุฑ ูุนุฑูู
  - 3 ุนุตูุฑ (classical ุบุงูุจุงู)
  - ุฌุงูุฒ ููุฅูุชุงุฌ

### ุงููุฑุงุญู ุงููุงุฏูุฉ
- **Week 4**: ุชูุณุนุฉ Golden Set ุฅูู 40-50 ุจูุช (ุชุบุทูุฉ 12-14 ุจุญุฑ)
- **Week 6**: 500โ800 ุจูุช (ุชุบุทูุฉ ูุงุณุนุฉ ููู ุงูุจุญูุฑ)
- **Week 12**: โฅ 800โ1000 ุจูุช (ููุชูููู ูุจู/ููุช ุงูุฅุทูุงู)

### ุงูุชูุฒูุน ุงููุณุชูุฏู ุญุณุจ ุงูุจุญุฑ
| ุงูุจุญุฑ | Golden Set v0.20 | ุงููุณุชูุฏู (Week 6) |
|-------|-----------------|-------------------|
| ุงูุทููู | 4 | 60-80 |
| ุงูุจุณูุท | 4 | 60-80 |
| ุงููุงูู | 4 | 60-80 |
| ุงูุฑุฌุฒ | 2 | 40-50 |
| ุงูุฑูู | 2 | 40-50 |
| ุงููุชูุงุฑุจ | 2 | 40-50 |
| ุงูุฎููู | 1 | 30-40 |
| ุงููุฒุฌ | 1 | 20-30 |
| ุงูุณุฑูุน | - | 40-50 |
| ุงููุงูุฑ | - | 40-50 |
| ุงููุฏูุฏ | - | 30-40 |
| ุงูููุณุฑุญ | - | 20-30 |
| (ุงูุจููุฉ) | - | 10-20 ููู |

---

## ๐ ุงููุนุงูุฌุฉ ุงููุณุจูุฉ (Preprocessing)

### ุงูุชุทุจูุน ุงูุขูู (Automated Normalization)
ุงูุธุฑ: `dataset/scripts/enrich_golden_set.py` ููุชุทุจูู ุงููุนูู

```python
def normalize_arabic_text(text):
    # ุฅุฒุงูุฉ ุงูุชุดููู (ุงูุญุฑูุงุช ูุงูุชูููู ูุงูุดุฏุฉ ูุงูุณููู)
    text = re.sub(r'[\u064B-\u065F\u0670]', '', text)
    # ุชูุญูุฏ ุงูุฃููุงุช
    text = re.sub(r'[ุฃุฅุข]', 'ุง', text)
    # ุฅุฒุงูุฉ ุงููุณุงูุงุช ุงูุฒุงุฆุฏุฉ
    text = re.sub(r'\s+', ' ', text).strip()
    return text
```

### ููุงุนุฏ ุงูุชูุทูุน ุงูุนุฑูุถู
- ูู ุงูุดุฏุฉ ูุจู ุงูุชูุทูุน (ููุฏูู โ ููุฏูุฏู)
- ููุงุนุฏ ุงูููู ูุงูุชูููู ุนูุฏ ููุงูุฉ ุงูุดุทุฑ
- ุงุนุชุจุงุฑ ุญุฑูู ุงููุฏู (ุง/ู/ู) ููุทูููุงุช ุนูุฏ ูุฌุงูุณุฉ ุงูุญุฑูุฉ
- ุงูุฒุญุงูุงุช ูุงูุนูู ุงูุดุงุฆุนุฉ ูุนุชูุฏุฉ ูู ุงููุฑุงุฌุน ุงูููุงุณูููุฉ

### ุงูุชุฑููุฒ ุงูููุทุนู (Syllable Pattern Encoding)
- `-` = ููุทุน ุทููู (ุญุฑู ุณุงูู + ุญุฑู ูุชุญุฑู + ุณุงููุ ุฃู ูุชุญุฑู + ุญุฑู ูุฏ)
- `u` = ููุทุน ูุตูุฑ (ุญุฑู ุณุงูู + ุญุฑู ูุชุญุฑู)
- `|` = ูุงุตู ุจูู ุงูุชูุงุนูู

**ุฃูุซูุฉ:**
```
ููุนูููููู    โ  - u - -
ููููุงุนูููููู  โ  - u u -
ููุชูููุงุนููููู  โ  - - u - -
```

ุงูุธุฑ: `docs/technical/PROSODY_ENGINE.md` ููุงุฆูุฉ ุงูููุงุนุฏ ุงููุงููุฉ

---

## ๐งช ุฅุทุงุฑ ุงูููุงุณ (Evaluation Framework)

### ููุงููุณ ุงูุฃุฏุงุก (Performance Metrics)
- **ูููุงุณ ุงูุฏูุฉ ุงูุฃุณุงุณู**: ูุณุจุฉ ูุดู ุงูุจุญุฑ ุงูุตุญูุญ
- **ุญุณุจ ูุณุชูู ุงูุตุนูุจุฉ**:
  - Easy: ุงููุณุชูุฏู โฅ95%
  - Medium: ุงููุณุชูุฏู โฅ85%
  - Hard: ุงููุณุชูุฏู โฅ70%
- **ุญุณุจ ููุน ุงูุญุงูุฉ**:
  - Perfect match: ุงููุณุชูุฏู ~100%
  - Common variations: ุงููุณุชูุฏู โฅ90%
  - Rare variations: ุงููุณุชูุฏู โฅ75%

### ุชูุงุฑูุฑ ุงูุชูููู (Evaluation Reports)
- ุงูุฏูุฉ ุงูุฅุฌูุงููุฉ + ููู ุจุญุฑ
- ูุตูููุฉ ุงูุงูุชุจุงุณ (Confusion Matrix)
- ูุณุจุฉ ุงููุชุงุฆุฌ ููุฎูุถุฉ ุงูุซูุฉ (< 0.65)
- ุชูุฒูุน ุฏุฑุฌุงุช ุงูุซูุฉ (histogram)
- ุชุญููู ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ

### ูููุงุช ุงูุชูุฑูุฑ
```json
{
  "dataset_version": "0.20",
  "evaluation_date": "2025-11-09",
  "overall_accuracy": 0.95,
  "per_meter_accuracy": {
    "ุงูุทููู": 1.0,
    "ุงูุจุณูุท": 0.92,
    "ุงููุงูู": 0.88
  },
  "confidence_distribution": {
    "high": 13,
    "medium": 7,
    "low": 0
  },
  "confusion_matrix": { ... }
}
```

ููู ุชูุงุฑูุฑ: `dataset/evaluation/validation_report.json`

---

## ๐ ุฅุฏุฎุงู ุนุจุฑ API (ูููุณุคูู)
ุงูุธุฑ: `POST /api/v1/datasets/verses` ูู `BACKEND_API.md`.

---

## ๐ ุชุฑููู ุงูุฅุตุฏุงุฑุงุช
- v0: 100 ุจูุช (ูููุฐุฌ ุฃููู)
- v1: 200 ุจูุช (ุชุญุณูู ุงูุชุบุทูุฉ)
- v2: 500 ุจูุช (ุฌุงูุฒูุฉ ูุจู ุงูุฅุทูุงู)

ุงุณุชุฎุฏู Git LFS ุฃู ุชุฎุฒูู ุฎุงุฑุฌู ุฅู ุชุฌุงูุฒ ุงูุญุฌู ุญุฏูุฏ ุงููุณุชูุฏุน.

---

**ุขุฎุฑ ุชุญุฏูุซ:** November 8, 2025
