# =============================================================================
# Railway Configuration for BAHR Backend
# =============================================================================
# This file tells Railway how to build and deploy the backend service
# Reference: https://docs.railway.app/deploy/config-as-code

[build]
# Use the Dockerfile in the backend directory
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
# Start command for production
startCommand = "uvicorn app.main:app --host 0.0.0.0 --port $PORT --workers 4"

# Health check endpoint
healthcheckPath = "/health"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
